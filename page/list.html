<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List Ruangan yang Tersedia</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.4.0/fonts/remixicon.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="../style/list.css">
</head>

<body>
    <nav>
        <img class="logo" src="../../assets/LOGO.png" alt="Logo FILKOMreserV" onclick="window.location.href='index.html'">
        <ul class="nav__links">
            <li class="link"><a href="index.html">Beranda</a></li>
            <li class="link"><a href="index.html#booklet">Buku Panduan</a></li>
            <li class="link"><a href="#footer">Kontak Kami</a></li>
            <li class="link">
                <a href="notifikasi.html" style="display: flex; align-items: center;">
                    <i class="ri-notification-3-line" style="font-size: 1.5rem; margin-right: 5px;"></i> Notifikasi
                </a>
            </li>
            <button class="btn" style="color: var(--white); background-color: var(--primary-color);" onclick="window.location.href='login.html'">Login</button>
        </ul>
    </nav>
    <div class="container mt-5">
        <h1 class="text-center mb-4">List Ruangan yang Tersedia</h1>
        <p class="text-center text-muted"><strong id="selected-date"></strong><strong id="selected-time"></strong></p>


        <script>
            // Ambil parameter dari URL
            const params = new URLSearchParams(window.location.search);
            const date = params.get('date');
            const startTime = params.get('startTime');
            const endTime = params.get('endTime');
            const capacity = params.get('capacity');

            // Fungsi untuk memformat waktu agar memiliki format HH:mm
            function formatTime(time) {
                const [hour, minute] = time.split(':');
                return `${hour.padStart(2, '0')}:${minute.padStart(2, '0')}`;
            }

            // Periksa apakah semua parameter tersedia
            if (date && startTime && endTime && capacity) {
                // Format waktu
                const formattedStartTime = formatTime(startTime);
                const formattedEndTime = formatTime(endTime);

                // Tampilkan tanggal dan waktu yang dipilih
                document.getElementById('selected-date').textContent = `Pada Tanggal ${date}`;
                document.getElementById('selected-time').textContent = ` Jam ${formattedStartTime} - ${formattedEndTime}`;
            } else if (!date) {
                // Tampilkan pesan error jika data tanggal tidak lengkap
                document.getElementById('selected-date').innerHTML =
                    `<span style="color: red;">Data tanggal tidak lengkap. Mohon kembali ke halaman utama untuk mengisi ulang.</span>`;
            } else if (!startTime || !endTime) {
                // Tampilkan pesan error jika data waktu tidak lengkap
                document.getElementById('selected-time').innerHTML =
                    `<span style="color: red;">Data waktu tidak lengkap. Mohon kembali ke halaman utama untuk mengisi ulang.</span>`;
            } else {
                // Tampilkan pesan error umum jika data lainnya tidak lengkap
                document.getElementById('selected-date').innerHTML =
                    `<span style="color: red;">Data tidak lengkap. Mohon kembali ke halaman utama untuk mengisi ulang.</span>`;
                document.getElementById('selected-time').innerHTML =
                    `<span style="color: red;">Data tidak lengkap. Mohon kembali ke halaman utama untuk mengisi ulang.</span>`;
            }
        </script>



        <div class="room-card shadow-sm p-4 rounded mb-3" onclick="window.location.href='tanggal.html'">
            <h3 class="mb-2">GKM 4.1</h3>
            <p class="mb-1 text-muted">Tersedia jam <strong>12:00 - 16:00</strong></p>
            <div class="status">
                <span class="badge badge-success">Tersedia</span>
            </div>
        </div>

        <div class="room-card shadow-sm p-4 rounded mb-3" onclick="window.location.href='login.html'">
            <h3 class="mb-2">Gedung F Ruang 3</h3>
            <p class="mb -1 text-muted">Tersedia jam <strong>14:00 - 18:00</strong></p>
            <div class="status">
                <span class="badge badge-success">Tersedia</span>
            </div>
        </div>
    </div>

    <footer class="footer" id="footer">
        <div class="section__container footer__container">
            <div class="footer__col">
                <h3>FILKOMreserV</h3>
                <p>Sistem yang memudahkan mahasiswa dan dosen untuk memesan ruangan di Fakultas Ilmu Komputer.</p>
                <p>Kemudahan akses, efisiensi waktu, dan transparansi adalah fokus utama kami.</p>
            </div>
            <div class="footer__col">
                <h4>Informasi Kontak</h4>
                <p>Jl. Veteran, Ketawanggede, Lowokwaru, Kota Malang, Jawa Timur, Indonesia - 65145</p>
                <p>filkom@ub.ac.id</p>
                <p>+ 01 234 567 88</p>
                <p>+ 01 234 567 89</p>
            </div>
            <div class="footer__col">
                <h4>Legal</h4>
                <p>FAQ</p>
                <p>Syarat & Ketentuan</p>
                <p>Kebijakan Privasi</p>
            </div>
        </div>
        <div class="footer__bar">
            Copyright Â© 2024 FILKOMreserV.
        </div>
    </footer>
</body>

</html>